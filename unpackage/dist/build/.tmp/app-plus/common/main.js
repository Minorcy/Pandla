(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["common/main"],{"183e":function(t,e,s){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;a(s("7c39"));var r=a(s("55c6"));function a(t){return t&&t.__esModule?t:{default:t}}var u={data:function(){return{connNumber:0,fnsNumber:0,likeNumber:0,systemNumber:0,msgNumber:0,interval:""}},watch:{"$store.state.pushMsg.pushFansMsg":function(){if(this.$store.state.pushMsg&&0!=this.$store.state.pushMsg.pushFansMsg.length){var t=this.$store.state.pushMsg.pushFansMsg.filter(function(t){return"1"==t.status});t=t.length,this.fnsNumber=t.toString(),this.setTabBarBadge()}},"$store.state.pushMsg.pushConnMsg":function(){if(this.$store.state.pushMsg&&0!=this.$store.state.pushMsg.pushConnMsg.length){var t=this.$store.state.pushMsg.pushConnMsg.filter(function(t){return"1"==t.status});t=t.length,this.connNumber=t.toString(),this.setTabBarBadge()}},"$store.state.pushMsg.pushSystemMsg":function(){if(this.$store.state.pushMsg&&0!=this.$store.state.pushMsg.pushSystemMsg.length){var t=this.$store.state.pushMsg.pushSystemMsg.filter(function(t){return"0"==t.isRed});t=t.length,this.systemNumber=t.toString(),this.setTabBarBadge()}},"$store.state.pushMsg.pushLikeMsg":function(){if(this.$store.state.pushMsg&&0!=this.$store.state.pushMsg.pushLikeMsg.length){var t=this.$store.state.pushMsg.pushLikeMsg.filter(function(t){return"1"==t.status});t=t.length,this.likeNumber=t.toString(),this.setTabBarBadge()}},"$store.state.sessionlist":function(){var t=0;this.$store.state.sessionlist.filter(function(e){t+=e.unread});this.msgNumber=t,this.setTabBarBadge()}},onLaunch:function(){var e=this;this.checkArguments();var s=t.getStorageSync("TOKEN_KEY");s&&plus.globalEvent.addEventListener("newintent",function(t){e.checkArguments()})},onShow:function(){var e=this,s=t.getStorageSync("USERS_KEY").id,n=this.$store.state.is_open_socket;!n&&s&&r.default.connectSocketInit(),this.interval=setInterval(function(){var s=t.getStorageSync("TOKEN_KEY");s?(e.$store.dispatch("getConnMsg"),e.$store.dispatch("getFansMsg"),e.$store.dispatch("getLikeMsg"),e.$store.dispatch("getSystemMsg")):clearInterval(e.interval)},2e3)},onHide:function(){var t=this.$store.state.is_open_socket;t&&r.default.closeSocket(),clearInterval(this.interval)},methods:{setTabBarBadge:function(){var e=t.getStorageSync("TOKEN_KEY");if(e){var s=0;if(s=Number(this.fnsNumber)+Number(this.connNumber)+Number(this.likeNumber)+Number(this.systemNumber)+this.msgNumber,s=s.toString(),0!=s&&"NaN"!=s){t.setTabBarBadge({index:1,text:s});var r=this.$store.state.defaultSettings.voice;if(r){var a=t.createInnerAudioContext();a.autoplay=!0,a.src="http://pandla.io/images/static/bell.mp3",a.onPlay(function(){console.log(n("开始播放"," at App.vue:149"))}),a.onError(function(t){console.log(n(t," at App.vue:152"))})}}}},checkArguments:function(){if("shortcut"==plus.runtime.launcher)try{var e=JSON.parse(plus.runtime.arguments);console.log(n("Shortcut-plus.runtime.arguments: "+plus.runtime.arguments," at App.vue:160"));var s=e&&e.type;setTimeout(function(e){switch(s){case"share":t.navigateTo({url:"/pages/strategy/strategy"});break;case"about":t.navigateTo({url:"/pages/setting/introduce"});break}},800),console.log(n(JSON.stringify(e)," at App.vue:180"))}catch(r){console.log(n("Shortcut-exception: "+r," at App.vue:182"))}}}};e.default=u}).call(this,s("6e42")["default"],s("0de9")["default"])},"1fe7":function(t,e,s){"use strict";s.r(e);var n=s("183e"),r=s.n(n);for(var a in n)"default"!==a&&function(t){s.d(e,t,function(){return n[t]})}(a);e["default"]=r.a},"332f":function(t,e,s){"use strict";s.r(e);var n=s("1fe7");for(var r in n)"default"!==r&&function(t){s.d(e,t,function(){return n[t]})}(r);s("3b32"),s("dce6");var a,u,o=s("2877"),i=Object(o["a"])(n["default"],a,u,!1,null,null,null);e["default"]=i.exports},"3b32":function(t,e,s){"use strict";var n=s("3f72"),r=s.n(n);r.a},"3f72":function(t,e,s){},"6fdd":function(t,e,s){},dce6:function(t,e,s){"use strict";var n=s("6fdd"),r=s.n(n);r.a},e8a0:function(t,e,s){"use strict";(function(t){s("cbab"),s("921b");var e=i(s("66fd")),n=i(s("332f")),r=i(s("7c39")),a=i(s("816f")),u=i(s("63ac"));s("c909");var o=i(s("fb52"));function i(t){return t&&t.__esModule?t:{default:t}}function c(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{},n=Object.keys(s);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(s).filter(function(t){return Object.getOwnPropertyDescriptor(s,t).enumerable}))),n.forEach(function(e){f(t,e,s[e])})}return t}function f(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}e.default.prototype.api=u.default,e.default.prototype.$request=o.default,e.default.config.productionTip=!1,e.default.prototype.$store=r.default,Object.keys(a.default).forEach(function(t){e.default.filter(t,a.default[t])}),n.default.mpType="app";var l=new e.default(c({store:r.default},n.default));t(l).$mount()}).call(this,s("6e42")["createApp"])}},[["e8a0","common/runtime","common/vendor"]]]);