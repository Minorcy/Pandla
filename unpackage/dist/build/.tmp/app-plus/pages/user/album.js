(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/album"],{1077:function(t,n,e){"use strict";(function(t){e("cbab"),e("921b");o(e("66fd"));var n=o(e("2e64"));function o(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("6e42")["createPage"])},"2e64":function(t,n,e){"use strict";e.r(n);var o=e("bef3"),a=e("81fc");for(var r in a)"default"!==r&&function(t){e.d(n,t,function(){return a[t]})}(r);e("57e4");var u=e("2877"),i=Object(u["a"])(a["default"],o["a"],o["b"],!1,null,null,null);n["default"]=i.exports},"407b":function(t,n,e){},"57e4":function(t,n,e){"use strict";var o=e("407b"),a=e.n(o);a.a},"81fc":function(t,n,e){"use strict";e.r(n);var o=e("a0d3"),a=e.n(o);for(var r in o)"default"!==r&&function(t){e.d(n,t,function(){return o[t]})}(r);n["default"]=a.a},a0d3:function(t,n,e){"use strict";(function(t,o){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=u(e("d04a")),r=e("9fe6");function u(t){return t&&t.__esModule?t:{default:t}}function i(t){return s(t)||f(t)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function f(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function s(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}var l={data:function(){return{photoList:[],rows:10,page:1,isGet:!0,loadTxt:"",dynInfo:[],uid:"",loadingCount:9}},onLoad:function(){this.uid=t.getStorageSync("USERS_KEY").id,this.getPhoto()},onReachBottom:function(){this.getPhoto()},methods:{getPhoto:function(){var n=this;this.isGet&&(this.isGet=!1,new Promise(function(e,a){1==n.page?(t.showLoading({title:"加載中",mask:!0}),(0,r.getDyn)(n.uid,0).then(function(t){t||(n.loadTxt="暫無相片"),console.log(o(t," at pages\\user\\album.vue:74")),e(t)})):(n.loadTxt="正在加載中",(0,r.getDyn)(n.uid,n.loadingCount).then(function(t){null!=t?(n.loadingCount+=9,e(t),console.log(o(t," at pages\\user\\album.vue:87"))):n.loadTxt="已加載全部相片"}))}).then(function(e){1==n.page&&t.hideLoading(),n.dynInfo=[].concat(i(n.dynInfo),i(e)),n.showImages()}))},showImages:function(){var t=this,n=0,e=function(){n<t.dynInfo.length?(t.$set(t.dynInfo[n],"active",!0),n++):(clearInterval(a),t.loadTxt="上拉加载更多",t.page++,t.isGet=!0,t.dynInfo.length<8&&(t.loadTxt=" ",console.log(o("1"," at pages\\user\\album.vue:114"))))},a=setInterval(function(){e()},100)},previewPhoto:function(n){for(var e=[],o=0;o<this.dynInfo.length;o++)e.push(this.dynInfo[o].images);t.previewImage({current:n,urls:e})},deleteDyn:function(n,e){var o=this;t.showModal({title:"",content:"確定刪除照片",confirmText:"確定",success:function(t){t.confirm&&(0,r.deleteDyn)(n).then(function(t){o.dynInfo.splice(e,1)})}})}},filters:{dateFormat:function(t){t=Number(t);var n=new Date(t);return(0,a.default)("yyyy-MM-dd hh:mm:ss",n)}}};n.default=l}).call(this,e("6e42")["default"],e("0de9")["default"])},bef3:function(t,n,e){"use strict";var o=function(){var t=this,n=t.$createElement,e=(t._self._c,t.__map(t.dynInfo,function(n,e){var o=t._f("dateFormat")(n.create_time);return{$orig:t.__get_orig(n),f0:o}}));t.$mp.data=Object.assign({},{$root:{l0:e}})},a=[];e.d(n,"a",function(){return o}),e.d(n,"b",function(){return a})}},[["1077","common/runtime","common/vendor"]]]);