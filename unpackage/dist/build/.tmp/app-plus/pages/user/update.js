(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/update"],{"3d8b":function(e,t,n){"use strict";(function(e){n("274e"),n("921b");a(n("66fd"));var t=a(n("b574"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("6e42")["createPage"])},"40b2":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement;e._self._c},c=[];n.d(t,"a",function(){return a}),n.d(t,"b",function(){return c})},"55d9":function(e,t,n){"use strict";var a=n("57d9"),c=n.n(a);c.a},"57d9":function(e,t,n){},"7ac1":function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n("0be9"),r=n("e7dc"),u=function(){return n.e("components/m-input").then(n.bind(null,"edc7"))},o=function(){return n.e("components/logo").then(n.bind(null,"98cb"))},i=function(){return Promise.all([n.e("common/vendor"),n.e("components/xuan-linkAddress/xuan-linkAddress")]).then(n.bind(null,"e60e"))},s={components:{mInput:u,logo:o,linkAddress:i},data:function(){return{height:"550rpx",accArray:["1","0","0.5","0.5偏0","0.5偏1","S","M","其它"],accIndex:0,raceArray:["亚洲人","黑人","拉美人","中东人","混血","白人","其它"],raceIndex:0,userId:e.getStorageSync("USERS_KEY").id,userInfo:{age:"",name:"",signature:"",site:"请选择",stature:"",weight:"",acctType:"",race:""},avatar:"../../static/img/user/upload.png"}},methods:{popup_bottom:function(){this.height="550rpx",this.show_popup()},show_popup:function(){this.$refs.linkAddress.show()},confirmCallback:function(e){console.log(a(e," at pages\\user\\update.vue:105")),this.userInfo.site=e},bindAcc:function(e){this.accIndex=e.target.value},bindRace:function(e){this.raceIndex=e.target.value},uploadAvatar:function(){var e=this;(0,c.upPicture)(this.userId).then(function(t){e.avatar=t.id})},update:function(){console.log(a(this.userInfo," at pages\\user\\update.vue:121")),this.userInfo.name&&this.userInfo.age&&this.userInfo.portrait&&this.userInfo.acctType&&this.userInfo.status&&this.userInfo.weight?(0,r.userValidate)(this.userInfo)&&(this.userInfo.acctType=this.accArray[this.accIndex],this.userInfo.race=this.raceArray[this.raceIndex]):e.showToast({icon:"none",title:"請完善信息"})},findInfo:function(){var e=this;(0,c.findByID)().then(function(t){t.name&&(console.log(a(1," at pages\\user\\update.vue:145")),"亚洲人"==t.race&&(e.raceIndex=0),"黑人"==t.race&&(e.raceIndex=1),"拉美人"==t.race&&(e.raceIndex=2),"中东人"==t.race&&(e.raceIndex=3),"混血"==t.race&&(e.raceIndex=4),"白人"==t.race&&(e.raceIndex=5),"其它"==t.race&&(e.raceIndex=6),"1"==t.acctType&&(e.accIndex=0),"0"==t.acctType&&(e.accIndex=1),"0.5"==t.acctType&&(e.accIndex=2),"0.5偏0"==t.acctType&&(e.accIndex=3),"0.5偏1"==t.acctType&&(e.accIndex=4),"S"==t.acctType&&(e.accIndex=5),"M"==t.acctType&&(e.accIndex=6),"其它"==t.acctType&&(e.accIndex=7),null!=t.portrait&&""!=t.portrait&&(e.avatar=t.portrait),e.userInfo.age=""+t.age,e.userInfo.stature=""+t.stature,e.userInfo.weight=""+t.weight,e.userInfo.site="请选择")})}},onShow:function(){e.getStorageSync("USERS_KEY").token&&this.findInfo()}};t.default=s}).call(this,n("6e42")["default"],n("0de9")["default"])},b574:function(e,t,n){"use strict";n.r(t);var a=n("40b2"),c=n("ee2b");for(var r in c)"default"!==r&&function(e){n.d(t,e,function(){return c[e]})}(r);n("55d9");var u=n("2877"),o=Object(u["a"])(c["default"],a["a"],a["b"],!1,null,null,null);t["default"]=o.exports},ee2b:function(e,t,n){"use strict";n.r(t);var a=n("7ac1"),c=n.n(a);for(var r in a)"default"!==r&&function(e){n.d(t,e,function(){return a[e]})}(r);t["default"]=c.a}},[["3d8b","common/runtime","common/vendor"]]]);