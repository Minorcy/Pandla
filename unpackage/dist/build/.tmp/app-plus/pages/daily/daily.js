(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/daily/daily"],{"1d03":function(n,t,i){"use strict";var o=function(){var n=this,t=n.$createElement;n._self._c},e=[];i.d(t,"a",function(){return o}),i.d(t,"b",function(){return e})},"57e3":function(n,t,i){"use strict";i.r(t);var o=i("1d03"),e=i("7ec1");for(var d in e)"default"!==d&&function(n){i.d(t,n,function(){return e[n]})}(d);i("858d");var l=i("2877"),s=Object(l["a"])(e["default"],o["a"],o["b"],!1,null,"122397fa",null);t["default"]=s.exports},"7ec1":function(n,t,i){"use strict";i.r(t);var o=i("8f9e"),e=i.n(o);for(var d in o)"default"!==d&&function(n){i.d(t,n,function(){return o[n]})}(d);t["default"]=e.a},"858d":function(n,t,i){"use strict";var o=i("9208"),e=i.n(o);e.a},"8f9e":function(n,t,i){"use strict";(function(n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;e(i("f146")),e(i("c4ec"));var o=i("755d");function e(n){return n&&n.__esModule?n:{default:n}}var d={data:function(){return{dynInfo:"",commentInfo:"",bulletList:"",following:!1,did:0,uid:0,cid:0,like:0,beStatus:!1,commCount:"",commContent:"",commplaceholder:"為保證用戶隱私，只可以看自己的評論",addType:"",array:["取消關注","屏蔽用戶","舉報用戶"],pickIndex:0,likeNumber:0,showComment:!1,count:10,loading:1,flog:!0,time:""}},methods:{findDyn:function(t){var i=this;n.showLoading({title:"加载中"}),(0,o.findAllDyn)(0).then(function(n){i.dynInfo=n,i.commCount=n[0].com_count,1==t&&(i.did=i.dynInfo[0].id,i.uid=i.dynInfo[0].uid),(0,o.getBullet)(i.did).then(function(n){i.bulletList=n.content}),(0,o.likeCount)(i.did).then(function(n){i.like=n})}),setTimeout(function(){n.hideLoading()},800)},loadFindDyn:function(){var n=this;(0,o.findAllDyn)(this.count).then(function(t){n.count+=10,n.dynInfo=n.dynInfo.concat(t),console.log(n.dynInfo," at pages\\daily\\daily.vue:186")})},goBack:function(){n.switchTab({url:"../main/main"})},publishDyn:function(){var t=this;(0,o.getImgTemp)().then(function(i){t.$store.commit("setImgTemp",i),console.log(t.$store.state.imgTemp," at pages\\daily\\daily.vue:204"),n.navigateTo({url:"publish"}),t.findDyn(1)})},userFollow:function(){var n=this;0==this.following?(0,o.concern)(1,this.uid).then(function(t){n.following=!0,n.findDyn(2)}):this.following=!1},bindPickerChange:function(n){var t=this;this.pickIndex=n.target.value,0==n.target.value&&(this.following=!1,console.log(this.uid," at pages\\daily\\daily.vue:226"),(0,o.concern)(2,this.uid).then(function(n){t.findDyn()}))},behaviour:function(){0==this.beStatus?this.beStatus=!0:1==this.beStatus&&(this.beStatus=!1)},userInfo:function(){n.navigateTo({url:"/pages/daily/userInfo?uid="+this.uid})},likePerson:function(t){var i=this;1==t?n.showToast({icon:"none",title:"不可以給自己點贊哦"}):((0,o.like)(this.did,1),(0,o.likeCount)(this.did).then(function(n){i.like=n+1}),console.log(this.like," at pages\\daily\\daily.vue:274"))},hid:function(){this.flog||(this.showComment=!1)},showComm:function(){var n=this;1==this.showComment?this.showComment=!1:this.showComment=!0,(0,o.getComment)(this.did).then(function(t){n.commentInfo=t,console.log(n.commentInfo," at pages\\daily\\daily.vue:293")}),this.flog=!1},hidComm:function(){1==this.showComment?this.showComment=!1:this.showComment=!0},moveHandle:function(){},swiperChange:function(n){var t=this;this.following=!1,this.showComment=!1,this.addType="",this.commplaceholder="為保證用戶隱私，只可以看自己的評論",this.commentInfo="",this.did=this.dynInfo[n.detail.current].id,this.uid=this.dynInfo[n.detail.current].uid,this.commCount=this.dynInfo[n.detail.current].com_count,(0,o.likeCount)(this.did).then(function(n){t.like=n}),(0,o.getBullet)(this.did).then(function(n){t.bulletList=n.content}),n.detail.current+1==this.count&&(console.log("上拉"," at pages\\daily\\daily.vue:322"),this.loading=2,this.loadFindDyn()),0==n.detail.current&&this.findDyn(1)},addComm:function(){var n=this;""!=this.commContent&&("reply"==this.addType?(console.log("刚刚是回复"," at pages\\daily\\daily.vue:336"),(0,o.reply)(this.cid,this.commContent).then(function(t){n.findDyn(2),n.addType="",n.commplaceholder="為保證用戶隱私，只可以看自己的評論"})):(console.log("刚刚是評論"," at pages\\daily\\daily.vue:345"),(0,o.addComment)(this.commContent,this.did).then(function(t){(0,o.getComment)(n.did).then(function(t){n.commentInfo=t,n.commContent=""}),(0,o.getBullet)(n.did).then(function(t){n.bulletList=t.content}),n.findDyn()})))},replyComm:function(t,i,o){o!=n.getStorageSync("USERS_KEY").id?(this.commplaceholder="@"+i,this.addType="reply",this.cid=t):n.showToast({icon:"none",title:"不能自己回復自己哦"})}},onLoad:function(){this.findDyn(1)},onShow:function(){this.findDyn(1)},onReachBottom:function(){console.log("onReachBottom"," at pages\\daily\\daily.vue:389")},onPullDownRefresh:function(){this.loadFindDyn(),setTimeout(function(){n.stopPullDownRefresh()},1e3)}};t.default=d}).call(this,i("6e42")["default"])},9208:function(n,t,i){}},[["9f38","common/runtime","common/vendor"]]]);