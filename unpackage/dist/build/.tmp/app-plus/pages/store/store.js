(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/store/store"],{"3b0a":function(t,o,e){"use strict";var i=function(){var t=this,o=t.$createElement;t._self._c},n=[];e.d(o,"a",function(){return i}),e.d(o,"b",function(){return n})},"4ab3":function(t,o,e){"use strict";e.r(o);var i=e("83f0"),n=e.n(i);for(var s in i)"default"!==s&&function(t){e.d(o,t,function(){return i[t]})}(s);o["default"]=n.a},"574f":function(t,o,e){"use strict";e.r(o);var i=e("3b0a"),n=e("4ab3");for(var s in n)"default"!==s&&function(t){e.d(o,t,function(){return n[t]})}(s);e("57ae");var c=e("2877"),a=Object(c["a"])(n["default"],i["a"],i["b"],!1,null,"2284d3b2",null);o["default"]=a.exports},"57ae":function(t,o,e){"use strict";var i=e("f58f"),n=e.n(i);n.a},"677b":function(t,o,e){"use strict";(function(t){e("274e"),e("921b");i(e("66fd"));var o=i(e("574f"));function i(t){return t&&t.__esModule?t:{default:t}}t(o.default)}).call(this,e("6e42")["createPage"])},"83f0":function(t,o,e){"use strict";(function(t,i){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n=e("0be9"),s={data:function(){return{topicList:"",likeCount:"",commCont:0,showComment:!1,commContent:"",commplaceholder:"請輸入評論內容",likeimg:"../../static/img/topic/like.svg",unlikeimg:"../../static/img/topic/fabulous.svg",islike:!1,commList:"",replyList:"",addType:"",topicId:"",topicRid:"",commIndex:"",height:"",pageSize:10,loadMoreText:"上拉加載更多",showLoadMore:!1}},methods:{toUser:function(o){t.navigateTo({url:"/pages/daily/userInfo?uid="+o})},publishDyn:function(){t.navigateTo({url:"../publish/publish?tid=2"})},getTopicList:function(){var t=this;(0,n.checkTopicList)(2,0).then(function(o){t.topicList=o,console.log(i(o," at pages\\store\\store.vue:122"))})},usTopicLike:function(t,o){var e=this;1!==this.topicList[o].isLike&&(this.topicList[o].isLike=1,this.topicList[o].likeCount+=1,console.log(i(this.topicList[1].isLike," at pages\\store\\store.vue:130")),(0,n.topicLike)(t).then(function(o){(0,n.getLikeNumber)(t).then(function(t){console.log(i(t," at pages\\store\\store.vue:133")),e.likeCount=t.likeCount})}),console.log(i(o," at pages\\store\\store.vue:137")))},showComm:function(t,o){var e=this;1==this.showComment?this.showComment=!1:this.showComment=!0,(0,n.getAllComment)(t).then(function(t){e.commList=t,e.commCont=t.length,console.log(i(t," at pages\\store\\store.vue:148"))}),this.topicId=t,this.commIndex=o},hidComm:function(){1==this.showComment?this.showComment=!1:this.showComment=!0,this.commContent="",this.commList="",this.commCont=0},addComm:function(){var o=this;""==this.commContent?t.showToast({icon:"none",title:"请输入评论"}):"reply"==this.addType?(0,n.topicReply)(this.topicRid,this.commContent).then(function(e){console.log(i("reply"," at pages\\store\\store.vue:167")),(0,n.getAllComment)(o.topicId).then(function(e){o.commList=e,console.log(i(o.commList," at pages\\store\\store.vue:170")),o.commCont=e.length,o.addType="",o.commContent="",t.showToast({icon:"none",title:"回復成功"}),o.commplaceholder="請輸入評論內容",o.topicList[o.commIndex].commCount+=1})}):((0,n.topicComment)(this.topicId,this.commContent).then(function(t){(0,n.getAllComment)(o.topicId).then(function(t){o.commList=t,o.commCont=t.length})}),t.showToast({icon:"none",title:"回復成功"}),this.commContent="",this.addType="",this.commplaceholder="請輸入評論內容",this.topicList[this.commIndex].commCount+=1)},replyComm:function(o,e,i){e!=t.getStorageSync("USERS_KEY").id?(this.commplaceholder="@"+o,this.addType="reply",this.topicRid=i):t.showToast({icon:"none",title:"不能自己回復自己哦"})}},onPullDownRefresh:function(){console.log(i("onPullDownRefresh"," at pages\\store\\store.vue:216")),setTimeout(function(){t.startPullDownRefresh()},300)},onReachBottom:function(){var t=this;(0,n.checkTopicList)(2,this.pageSize).then(function(o){if(t.pageSize+=10,!o)return t.showLoadMore=!0,void(t.loadMoreText="暫無更多數據!");t.showLoadMore=!0,t.topicList=t.topicList.concat(o)})},onLoad:function(){this.getTopicList(),t.getSystemInfo({success:function(t){console.log(i(t.windowHeight," at pages\\store\\store.vue:238")),this.height=t.windowHeight}})},onShow:function(){this.getTopicList()}};o.default=s}).call(this,e("6e42")["default"],e("0de9")["default"])},f58f:function(t,o,e){}},[["677b","common/runtime","common/vendor"]]]);