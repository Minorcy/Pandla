(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/msg/news/details"],{"2c5d":function(n,t,e){},"38c4":function(n,t,e){"use strict";(function(n){e("cbab"),e("921b");o(e("66fd"));var t=o(e("5c18"));function o(n){return n&&n.__esModule?n:{default:n}}n(t.default)}).call(this,e("6e42")["createPage"])},"5c18":function(n,t,e){"use strict";e.r(t);var o=e("5e44"),i=e("655a");for(var c in i)"default"!==c&&function(n){e.d(t,n,function(){return i[n]})}(c);e("a7a1");var u=e("2877"),m=Object(u["a"])(i["default"],o["a"],o["b"],!1,null,"203c29cf",null);t["default"]=m.exports},"5e44":function(n,t,e){"use strict";var o=function(){var n=this,t=n.$createElement;n._self._c},i=[];e.d(t,"a",function(){return o}),e.d(t,"b",function(){return i})},"655a":function(n,t,e){"use strict";e.r(t);var o=e("e288"),i=e.n(o);for(var c in o)"default"!==c&&function(n){e.d(t,n,function(){return o[n]})}(c);t["default"]=i.a},a7a1:function(n,t,e){"use strict";var o=e("2c5d"),i=e.n(o);i.a},e288:function(n,t,e){"use strict";(function(n,o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=e("9fe6"),c=function(){return e.e("components/uni-popup/uni-popup").then(e.bind(null,"65e7"))},u=function(){return Promise.all([e.e("common/vendor"),e.e("components/comments")]).then(e.bind(null,"ad0d"))},m=function(){return e.e("components/l-barrage/l-barrage").then(e.bind(null,"6059"))},s={components:{uniPopup:c,comm:u,lBarrage:m},data:function(){return{sysheight:0,dynInfo:"",uid:"",did:"",cid:"",parentId:"",toid:"",likeNumber:0,height:"667px",index:0,width:"",oldIndex:0,commentInfo:[],commCount:0,addType:"comm",pageCount:10,flag:!0,flog:!0,isActive:!1,showComment:!1}},methods:{getDyn:function(t){var e=this;(0,i.getDynInfo)(t).then(function(t){console.log(n(t," at pages\\msg\\news\\details.vue:99")),e.dynInfo=t[0]})},back:function(){o.navigateBack({delta:1})},toMap:function(t,e,i){""==t&&""==e&&""==i||o.openLocation({latitude:Number(t),longitude:Number(e),name:i,success:function(t){console.log(n(t," at pages\\msg\\news\\details.vue:118"))}})},likePerson:function(n,t){var e=this;1==n?o.showToast({icon:"none",title:"不可以給自己點贊哦"}):(this.likeNumber++,(0,i.like)(t,1).then(function(n){e.isActive=!0,(0,i.likeCount)(t).then(function(n){e.dynInfo.isLike=1,e.dynInfo.like_count=n,e.dynInfo.pan=n/10,o.showToast({icon:"none",title:"點贊了"+e.likeNumber+"次"});var t=setTimeout(function(){clearTimeout(t),e.isActive=!1},1500)})}),this.isActive=!1)},tapMsg:function(t,e){var o=this;this.showComment=!this.showComment,this.commCount=e,(0,i.getComment)(t).then(function(t){console.log(n(t," at pages\\msg\\news\\details.vue:158")),t?(t.filter(function(n){n.moreComment=!1,n.showComment=!1,(0,i.getReply)(n.id).then(function(t){t&&(n.moreComment=t)})}),setTimeout(function(){o.commentInfo=t,console.log(n(t," at pages\\msg\\news\\details.vue:173"))},200)):o.commentInfo=[]})},hidComm:function(){this.showComment=!this.showComment,this.commentInfo="",o.showTabBar()},addComm:function(t){var e=this;"reply"==this.addType?(0,i.reply)(this.cid,t,0,this.toid).then(function(n){e.addType="comm",(0,i.getComment)(e.did).then(function(n){n.filter(function(n){n.moreComment=!1,n.showComment=!0,(0,i.getReply)(n.id).then(function(t){t&&(n.moreComment=t)})}),setTimeout(function(){e.commentInfo=n},200)})}):"comm"==this.addType?(0,i.createCom)(this.did,t).then(function(t){console.log(n(t," at pages\\msg\\news\\details.vue:204")),(0,i.getComment)(e.did).then(function(n){e.commentInfo=n,e.commCount+=1,e.addType="comm",e.dynInfo[e.index].com_count+=1}),e.getAllBullet()}):"nextReply"==this.addType&&(0,i.reply)(this.cid,t,this.parentId,this.toid).then(function(n){e.addType="comm",(0,i.getComment)(e.did).then(function(n){n.filter(function(n){n.moreComment=!1,n.showComment=!0,(0,i.getReply)(n.id).then(function(t){t&&(n.moreComment=t)})}),setTimeout(function(){e.commentInfo=n},200)})})},replyComm:function(n){this.addType="reply",this.cid=this.commentInfo[n].id,this.toid=this.commentInfo[n].uid},nextReplyComm:function(n,t,e){this.addType="nextReply",this.cid=n,this.parentId=t,this.toid=e},getAllBullet:function(){}},onLoad:function(n){this.did=n.did,this.cid=o.getStorageSync("USERS_KEY").id,this.getDyn(n.did)}};t.default=s}).call(this,e("0de9")["default"],e("6e42")["default"])}},[["38c4","common/runtime","common/vendor"]]]);